#!/system/bin/sh
# Copyright (c) 2017, Stripalov. All rights reserved.
# Check setting state
state=`settings get system services`;
enabled=1;
if [ "$state" -eq "$enabled" ]; then
# Show message in logcat output
	echo Service Killer is enabled. Disabling all unneccessary activity...
else
# Run toogle script
	sh /system/bin/disable_killer && exit
fi
# Disable Google activities
su -c pm disable com.google.android.gms/.ads.settings.AdsSettingsActivity
su -c pm disable com.google.android.gms/com.google.android.location.places.ui.aliaseditor.AliasEditorActivity
su -c pm disable com.google.android.gms/com.google.android.location.places.ui.aliaseditor.AliasEditorMapActivity
su -c pm disable com.google.android.gms/com.google.android.location.settings.ActivityRecognitionPermissionActivity
su -c pm disable com.google.android.gms/com.google.android.location.settings.GoogleLocationSettingsActivity
su -c pm disable com.google.android.gms/com.google.android.location.settings.LocationHistorySettingsActivity
su -c pm disable com.google.android.gms/com.google.android.location.settings.LocationSettingsCheckerActivity
su -c pm disable com.google.android.gms/.usagereporting.settings.UsageReportingActivity
su -c pm disable com.google.android.gms/.ads.adinfo.AdvertisingInfoContentProvider
su -c pm disable com.google.android.gms/com.google.android.location.reporting.service.ReportingContentProvider
su -c pm disable com.google.android.gms/com.google.android.location.internal.LocationContentProvider
su -c pm enable com.google.android.gms/.common.stats.net.contentprovider.NetworkUsageContentProvider
su -c pm disable com.google.android.gms/com.google.android.gms.ads.config.GServicesChangedReceiver
su -c pm disable com.google.android.gms/com.google.android.contextmanager.systemstate.SystemStateReceiver
su -c pm disable com.google.android.gms/.ads.jams.SystemEventReceiver
su -c pm disable com.google.android.gms/.ads.config.FlagsReceiver
su -c pm disable com.google.android.gms/.ads.social.DoritosReceiver
su -c pm disable com.google.android.gms/.analytics.AnalyticsReceiver
su -c pm disable com.google.android.gms/.analytics.internal.GServicesChangedReceiver
su -c pm disable com.google.android.gms/.common.analytics.CoreAnalyticsReceiver
su -c pm enable com.google.android.gms/.common.stats.GmsCoreStatsServiceLauncher
su -c pm disable com.google.android.gms/com.google.android.location.internal.AnalyticsSamplerReceiver
su -c pm disable com.google.android.gms/.checkin.CheckinService\$ActiveReceiver
su -c pm disable com.google.android.gms/.checkin.CheckinService\$ClockworkFallbackReceiver
su -c pm disable com.google.android.gms/.checkin.CheckinService\$ImposeReceiver
su -c pm disable com.google.android.gms/.checkin.CheckinService\$SecretCodeReceiver
su -c pm disable com.google.android.gms/.checkin.CheckinService\$TriggerReceiver
su -c pm disable com.google.android.gms/.checkin.EventLogService\$Receiver
su -c pm disable com.google.android.gms/com.google.android.location.reporting.service.ExternalChangeReceiver
su -c pm disable com.google.android.gms/com.google.android.location.reporting.service.GcmRegistrationReceiver
su -c pm disable com.google.android.gms/com.google.android.location.copresence.GcmRegistrationReceiver
su -c pm disable com.google.android.gms/com.google.android.location.copresence.GservicesBroadcastReceiver
su -c pm disable com.google.android.gms/com.google.android.location.internal.LocationProviderEnabler
su -c pm disable com.google.android.gms/com.google.android.location.internal.NlpNetworkProviderSettingsUpdateReceiver
su -c pm disable com.google.android.gms/com.google.android.location.network.ConfirmAlertActivity\$LocationModeChangingReceiver
su -c pm disable com.google.android.gms/com.google.android.location.places.ImplicitSignalsReceiver
su -c pm disable com.google.android.gms/com.google.android.libraries.social.mediamonitor.MediaMonitor
su -c pm disable com.google.android.gms/.location.copresence.GcmBroadcastReceiver
su -c pm disable com.google.android.gms/.location.reporting.service.GcmBroadcastReceiver
su -c pm disable com.google.android.gms/.social.location.GservicesBroadcastReceiver
su -c pm disable com.google.android.gms/.update.SystemUpdateService\$Receiver
su -c pm disable com.google.android.gms/.update.SystemUpdateService\$OtaPolicyReceiver
su -c pm disable com.google.android.gms/.update.SystemUpdateService\$SecretCodeReceiver
su -c pm disable com.google.android.gms/.update.SystemUpdateService\$ActiveReceiver
su -c pm disable com.google.android.gms/com.google.android.contextmanager.service.ContextManagerService
su -c pm enable com.google.android.gms/.ads.AdRequestBrokerService
su -c pm disable com.google.android.gms/.ads.GservicesValueBrokerService
su -c pm disable com.google.android.gms/.ads.identifier.service.AdvertisingIdNotificationService
su -c pm enable com.google.android.gms/.ads.identifier.service.AdvertisingIdService
su -c pm disable com.google.android.gms/.ads.jams.NegotiationService
su -c pm disable com.google.android.gms/.ads.pan.PanService
su -c pm disable com.google.android.gms/.ads.social.GcmSchedulerWakeupService
su -c pm disable com.google.android.gms/.analytics.AnalyticsService
su -c pm disable com.google.android.gms/.analytics.internal.PlayLogReportingService
su -c pm disable com.google.android.gms/.analytics.service.AnalyticsService
su -c pm disable com.google.android.gms/.analytics.service.PlayLogMonitorIntervalService
su -c pm disable com.google.android.gms/.analytics.service.RefreshEnabledStateService
su -c pm disable com.google.android.gms/.auth.be.proximity.authorization.userpresence.UserPresenceService
su -c pm disable com.google.android.gms/.common.analytics.CoreAnalyticsIntentService
su -c pm enable com.google.android.gms/.common.stats.GmsCoreStatsService
su -c pm disable com.google.android.gms/.backup.BackupStatsService
su -c pm disable com.google.android.gms/.deviceconnection.service.DeviceConnectionAsyncService
su -c pm disable com.google.android.gms/.deviceconnection.service.DeviceConnectionServiceBroker
su -c pm disable com.google.android.gms/.wallet.service.analytics.AnalyticsIntentService
su -c pm enable com.google.android.gms/.checkin.CheckinService
su -c pm enable com.google.android.gms/.checkin.EventLogService
su -c pm disable com.google.android.gms/com.google.android.location.internal.AnalyticsUploadIntentService
su -c pm disable com.google.android.gms/com.google.android.location.reporting.service.DeleteHistoryService
su -c pm disable com.google.android.gms/com.google.android.location.reporting.service.DispatchingService
su -c pm disable com.google.android.gms/com.google.android.location.reporting.service.InternalPreferenceServiceDoNotUse
su -c pm disable com.google.android.gms/com.google.android.location.reporting.service.LocationHistoryInjectorService
su -c pm disable com.google.android.gms/com.google.android.location.reporting.service.ReportingAndroidService
su -c pm disable com.google.android.gms/com.google.android.location.reporting.service.ReportingSyncService
su -c pm disable com.google.android.gms/com.google.android.location.activity.HardwareArProviderService
su -c pm disable com.google.android.gms/com.google.android.location.fused.FusedLocationService
su -c pm disable com.google.android.gms/com.google.android.location.fused.service.FusedProviderService
su -c pm disable com.google.android.gms/com.google.android.location.geocode.GeocodeService
su -c pm disable com.google.android.gms/com.google.android.location.geofencer.service.GeofenceProviderService
su -c pm enable com.google.android.gms/com.google.android.location.internal.GoogleLocationManagerService
su -c pm disable com.google.android.gms/com.google.android.location.places.PlaylogService
su -c pm enable com.google.android.gms/com.google.android.location.places.service.GeoDataService
su -c pm enable com.google.android.gms/com.google.android.location.places.service.PlaceDetectionService
su -c pm disable com.google.android.gms/com.google.android.libraries.social.mediamonitor.MediaMonitorIntentService
su -c pm disable com.google.android.gms/.config.ConfigService
su -c pm disable com.google.android.gms/.measurement.PackageMeasurementService
su -c pm enable com.google.android.gms/.stats.PlatformStatsCollectorService
su -c pm enable com.google.android.gms/.usagereporting.service.UsageReportingService
su -c pm enable com.google.android.gms/.update.SystemUpdateService
su -c pm enable com.google.android.gms/com.google.android.location.network.ConfirmAlertActivity
su -c pm enable com.google.android.gms/com.google.android.location.network.LocationProviderChangeReceiver
su -c pm enable com.google.android.gms/com.google.android.location.internal.server.GoogleLocationService
su -c pm enable com.google.android.gms/com.google.android.location.internal.PendingIntentCallbackService
su -c pm enable com.google.android.gms/com.google.android.location.network.NetworkLocationService
su -c pm enable com.google.android.gms/com.google.android.location.util.PreferenceService
su -c pm disable com.google.android.gsf/.update.SystemUpdateActivity
su -c pm disable com.google.android.gsf/.update.SystemUpdatePanoActivity
su -c pm disable com.google.android.gsf/com.google.android.gsf.checkin.CheckinService\$Receiver
su -c pm disable com.google.android.gsf/com.google.android.gsf.checkin.CheckinService\$SecretCodeReceiver
su -c pm disable com.google.android.gsf/com.google.android.gsf.checkin.CheckinService\$TriggerReceiver
su -c pm disable com.google.android.gsf/.checkin.EventLogService\$Receiver
su -c pm disable com.google.android.gsf/.update.SystemUpdateService\$Receiver
su -c pm disable com.google.android.gsf/.update.SystemUpdateService\$SecretCodeReceiver
su -c pm disable com.google.android.gsf/.checkin.CheckinService
su -c pm disable com.google.android.gsf/.checkin.EventLogService
su -c pm disable com.google.android.gsf/.update.SystemUpdateService
su -c pm disable com.android.vending/com.google.android.finsky.flushlogs.FlushLogsReceiver\$FlushLogsService
su -c pm disable com.google.android.googlequicksearchbox/com.google.android.apps.gsa.tasks.BackgroundTasksAlarmService
# Disable Xiaomi and others activities
su -c pm disable com.miui.player/com.xiaomi.push.service.XMPushService
su -c pm disable com.miui.player/com.xiaomi.push.service.receivers.PingReceiver
su -c pm disable com.miui.yellowpage/com.xiaomi.push.service.XMPushService
su -c pm disable com.android.browser/com.xiaomi.push.service.XMPushService
su -c pm disable com.miui.cloudservice/com.xiaomi.push.service.XMPushService
su -c pm disable com.android.thememanager/com.xiaomi.push.service.XMPushService
su -c pm disable com.android.thememanager/com.xiaomi.push.service.receivers.PingReceiver
su -c pm disable com.android.settings/com.xiaomi.push.service.XMPushService
su -c pm disable com.android.settings/com.xiaomi.push.service.receivers.PingReceiver
su -c pm disable com.android.fileexplorer/com.xiaomi.push.service.XMPushService
su -c pm disable com.android.fileexplorer/com.xiaomi.push.service.receivers.PingReceiver
su -c pm disable com.facebook.katana/com.facebook.wallpaper.wallpaperprocess.FbWallpaperService
su -c pm disable com.facebook.katana/com.facebook.vault.service.VaultConnectivityChangeReceiver
su -c pm disable com.facebook.katana/com.facebook.oxygen.preloads.integration.dogfooding.AuthListener\$EmployeeLoggedInMarkerReceiver
su -c pm disable com.facebook.katana/com.facebook.photos.upload.receiver.ConnectivityChangeReceiver
su -c pm disable com.facebook.katana/com.facebook.deeplinking.activity.DeepLinkingLegacyAliasActivity
su -c pm disable com.facebook.katana/com.facebook.katana.urimap.LinkSharingNativeComposerAliasActivity
su -c pm disable com.google.android.inputmethod.latin/com.android.inputmethod.latin.setup.SetupActivity
su -c pm disable com.android.email/com.kingsoft.email.service.LegacyEmailAuthenticatorService
su -c pm disable com.android.email/com.kingsoft.email.service.LegacyEasAuthenticatorService
su -c pm disable com.android.email/com.kingsoft.email.service.EmailUpgradeBroadcastReceiver
su -c pm disable com.android.providers.downloads/com.xiaomi.push.service.XMPushService
su -c pm disable com.android.providers.downloads/com.xiaomi.push.service.receivers.PingReceiver
su -c pm disable com.miui.fmradio/com.xiaomi.push.service.XMPushService
su -c pm disable com.google.android.partnersetup/com.google.android.partnersetup.PhoneStateReceiver
su -c pm disable com.twitter.android/com.twitter.android.samsung.single.TwitterWidgetProvider
su -c pm disable com.xiaomi.market/com.xiaomi.push.service.XMPushService
su -c pm disable com.xiaomi.market/com.xiaomi.push.service.receivers.PingReceiver
su -c pm disable com.xiaomi.payment/com.xiaomi.push.service.XMPushService
su -c pm disable com.xiaomi.payment/com.xiaomi.push.service.receivers.PingReceiver
su -c pm disable com.miui.video/com.xiaomi.push.service.XMPushService
su -c pm disable com.miui.video/com.miui.video.mipush.MediaPushMessageReceiver
su -c pm disable com.xiaomi.xmsf/com.xiaomi.xmsf.push.service.XMPushService
su -c pm disable com.xiaomi.xmsf/com.xiaomi.push.service.XMPushService
su -c pm disable com.xiaomi.xmsf/com.xiaomi.push.service.receivers.PingReceiver
su -c pm disable com.android.providers.media/com.android.providers.media.MediaScannerReceiver
su -c pm disable cn.wps.moffice_eng/com.google.firebase.iid.FirebaseInstanceIdService
su -c pm disable com.miui.cloudservice/.push.MicloudPushService
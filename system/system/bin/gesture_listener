#!/system/bin/sh
# Catch getevent ft5x06_ts signal and turn on display
(busybox script -q -c 'getevent /dev/input/event0' /dev/null | while read code; do echo "$code" | grep -q '^0001 0074 00000000.$' && echo performance > /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor && echo performance > /sys/devices/soc.0/1c00000.qcom,kgsl-3d0/devfreq/1c00000.qcom,kgsl-3d0/governor && echo performance > /sys/devices/soc.0/qcom,cpubw.30/devfreq/qcom,cpubw.30/governor && input keyevent 26 && echo interactive > /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor && echo msm-adreno-tz > /sys/devices/soc.0/1c00000.qcom,kgsl-3d0/devfreq/1c00000.qcom,kgsl-3d0/governor && echo cpufreq > /sys/devices/soc.0/qcom,cpubw.30/devfreq/qcom,cpubw.30/governor; done) < /dev/null &>/dev/null &